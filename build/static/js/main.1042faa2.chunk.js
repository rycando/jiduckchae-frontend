(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{803:function(e,t,n){},883:function(e,t,n){},973:function(e,t,n){"use strict";n.r(t);n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(452),n(453),n(182),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(470),n(471),n(473),n(474),n(475),n(243),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(503),n(504),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(527),n(528),n(529),n(530),n(531),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(335),n(544),n(545),n(337),n(546),n(547),n(548),n(549),n(338),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(251),n(610),n(611),n(613),n(614),n(615),n(616),n(617),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(654),n(656),n(657),n(658),n(659),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(686),n(688),n(690),n(691),n(692),n(693),n(694),n(695),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(706),n(349);var a=n(2),c=(n(709),n(378),n(0)),r=n.n(c),i=n(7),s=n.n(i),o=(n(803),n(44)),d=n(16),l=n.n(d),j=n(46),u="login_user",b="auth_user",h="register_user";function p(){var e=l.a.get("/api/user/auth").then((function(e){return e.data}));return{type:b,payload:e}}var x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function r(r){var i=Object(j.b)();return Object(c.useEffect)((function(){i(p()).then((function(e){e.payload.isAuth?(n&&!e.payload.isAdmin||!1===t&&null!==t)&&r.history.push("/"):t&&r.history.push("/login")}))}),[]),Object(a.jsx)(e,{})}return r},m=n(10),O=n(975);var f=function(e){return Object(a.jsx)("a",{href:"/prod/".concat(e.prodId),children:Object(a.jsx)("div",{style:{background:"linear-gradient(to bottom, rgba(0,0,0,0)\n            39%,rgba(0,0,0,0)\n            41%,rgba(0,0,0,0.65)\n            100%),\n            url('".concat(e.image,"'), #1c1c1c"),height:"500px",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"100%",position:"relative"},children:Object(a.jsx)("div",{children:Object(a.jsxs)("div",{style:{position:"absolute",maxWidth:"500px",bottom:"2rem",marginLeft:"2rem"},children:[Object(a.jsxs)("h2",{style:{color:"white"},children:[" ",e.title," "]}),Object(a.jsx)("p",{style:{color:"white",fontSize:"1rem"},children:e.text})]})})})})},g=n(974);var y=function(e){return Object(a.jsx)(g.a,{lg:6,md:8,xs:24,children:Object(a.jsx)("div",{style:{position:"relative"},children:Object(a.jsx)("a",{href:"/prod/".concat(e.prodId),children:Object(a.jsx)("img",{style:{width:"100%",height:"100%"},src:e.image,alt:e.prodName})})})})},v="https://jiduckchae.herokuapp.com";var I=Object(o.f)((function(e){var t=Object(c.useState)([]),n=Object(m.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)([]),d=Object(m.a)(o,2),j=d[0],u=d[1];return Object(c.useEffect)((function(){l.a.get("/api/like/getBestProds").then((function(e){s(e.data.prods),u(e.data.prods[0]._id)}))}),[]),Object(a.jsxs)("div",{style:{width:"100%",margin:"0"},children:[j&&Object(a.jsx)(f,{image:"".concat(v,"/").concat(j.mainImage),title:j.name,text:j.content,prodId:j._id}),Object(a.jsxs)("div",{style:{width:"85%",margin:"1rem auto"},children:[Object(a.jsx)("h2",{children:" \uac00\uc7a5 \uc778\uae30\uc788\ub294 \uad7f\uc988 "}),Object(a.jsx)("hr",{}),Object(a.jsx)(O.a,{gutter:[16,16],type:"flex",style:{alignItems:"center"},children:i&&i.map((function(e,t){return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(y,{image:"".concat(v,"/").concat(e._id.mainImage),prodId:e._id._id,prodName:e._id.name})},t)}))})]})]})})),w=n(108),S=n(38);var C=Object(o.f)((function(e){var t,n=Object(j.b)(),r=Object(c.useState)({email:"",password:""}),i=Object(m.a)(r,2),s=i[0],o=i[1],d=s.email,b=s.password,h=function(e){var t=e.target,n=t.value,a=t.name;o(Object(S.a)(Object(S.a)({},s),{},Object(w.a)({},a,n)))};return Object(a.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},children:Object(a.jsxs)("form",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"440px",height:"70vh",justifyContent:"center"},onSubmit:function(t){t.preventDefault(),n(function(e){var t=l.a.post("/api/user/login",e).then((function(e){return e.data}));return{type:u,payload:t}}({email:d,password:b})).then((function(t){t.payload.loginSuccess?(window.localStorage.setItem("userId",t.payload.userId),e.history.push("/")):alert("Error")}))},children:[Object(a.jsx)("div",{style:{width:"140px",height:"140px",padding:"0",borderRadius:"50%",backgroundColor:"#ffdf80",marginBottom:"50px"},children:Object(a.jsx)("div",{style:{width:"100px",height:"100px",padding:"0",borderRadius:"50%",backgroundColor:"#ffffff",margin:"10px 0px 20px 50px"}})}),Object(a.jsx)("input",{type:"email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",name:"email",value:d,onChange:h,style:{maxWidth:"280px",minWidth:"220px",padding:"0px 0.5rem",height:"40px",margin:"5px",borderRadius:"5px",border:"1px solid rgba(0,0,0,0.2)"}}),Object(a.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",name:"password",value:b,onChange:h,style:{maxWidth:"280px",minWidth:"220px",padding:"0px 0.5rem",height:"40px",margin:"5px",borderRadius:"5px",border:"1px solid rgba(0,0,0,0.2)"}}),Object(a.jsx)("button",{type:"submit",style:(t={maxWidth:"300px",minWidth:"240px",height:"40px",margin:"20px",backgroundColor:"#ffdf80",border:"none",outline:"none",borderRadius:"5px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"},Object(w.a)(t,"border","1px solid rgba(0,0,0,0.02)"),Object(w.a)(t,"fontWeight","800"),Object(w.a)(t,"color","white"),t),children:"\ub85c\uadf8\uc778"}),Object(a.jsxs)("div",{style:{width:"200px",height:"100px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[Object(a.jsx)("div",{style:{width:"40px",height:"40px",padding:"0",borderRadius:"50%",backgroundColor:"#ccffcc"}}),Object(a.jsx)("div",{style:{width:"40px",height:"40px",padding:"0",borderRadius:"50%",backgroundColor:"#cce6ff"}}),Object(a.jsx)("div",{style:{width:"40px",height:"40px",padding:"0",borderRadius:"50%",backgroundColor:"#f2ccff"}})]})]})})}));var k=Object(o.f)((function(e){var t=Object(j.b)(),n=Object(c.useState)({id:"",email:"",password:"",passwordCheck:""}),r=Object(m.a)(n,2),i=r[0],s=r[1],o=i.id,d=i.email,u=i.password,b=i.passwordCheck,p=function(e){var t=e.target,n=t.value,a=t.name;s(Object(S.a)(Object(S.a)({},i),{},Object(w.a)({},a,n)))};return Object(a.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},children:Object(a.jsxs)("form",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"70%",height:"70vh",justifyContent:"center"},onSubmit:function(n){if(n.preventDefault(),u!==b)return alert("\ube44\ubc00\ubc88\ud638\uc640 \ube44\ubc00\ubc88\ud638 \ud655\uc778\uc740 \uac19\uc544\uc57c\ud569\ub2c8\ub2e4.");t(function(e){var t=l.a.post("/api/user/register",e).then((function(e){return e.data}));return{type:h,payload:t}}({name:o,email:d,password:u})).then((function(t){t.payload.success?e.history.push("/login"):alert("Error")}))},children:[Object(a.jsx)("input",{type:"text",placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud558\uc138\uc694",name:"id",value:o,onChange:p,style:{width:"35%",height:"40px",margin:"5px"}}),Object(a.jsx)("input",{type:"email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",name:"email",value:d,onChange:p,style:{width:"35%",height:"40px",margin:"5px"}}),Object(a.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",name:"password",value:u,onChange:p,style:{width:"35%",height:"40px",margin:"5px"}}),Object(a.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \ud55c \ubc88 \ub354 \uc785\ub825\ud558\uc138\uc694",name:"passwordCheck",value:b,onChange:p,style:{width:"35%",height:"40px",margin:"5px"}}),Object(a.jsx)("button",{type:"submit",style:{width:"35%",height:"40px",margin:"20px"},children:"\ud68c\uc6d0\uac00\uc785\ud558\uae30"})]})})})),_=n(296),D=n(12),T=n(982),E=n(981),R=E.a.SubMenu;E.a.ItemGroup;var F=function(e){return Object(a.jsxs)(E.a,{mode:e.mode,children:[Object(a.jsx)(E.a.Item,{children:Object(a.jsx)("a",{href:"/",children:"Home"})},"mail"),Object(a.jsxs)(R,{title:Object(a.jsx)("span",{children:"Uploads"}),children:[Object(a.jsx)(E.a.Item,{children:Object(a.jsx)("a",{href:"/upload",children:"Upload"})},"mail"),Object(a.jsx)(E.a.Item,{children:Object(a.jsx)("a",{href:"/uploadEnt",children:"EntUpload"})},"mail"),Object(a.jsx)(E.a.Item,{children:Object(a.jsx)("a",{href:"/uploadArtist",children:"ArtistUpload"})},"mail")]})]})},L=E.a.SubMenu;var A=Object(o.f)((function(e){var t=Object(j.c)((function(e){return e.user})),n=Object(c.useState)([]),r=Object(m.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)([]),d=Object(m.a)(o,2),u=d[0],b=d[1];return Object(c.useEffect)((function(){l.a.get("/api/ent/all").then((function(e){e.data.success?b(e.data.ents):alert("\uc5d4\ud130 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})),l.a.get("/api/artist/all").then((function(e){e.data.success?s(e.data.artists):alert("\uc544\ud2f0\uc2a4\ud2b8 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]),t.userData&&!t.userData.isAuth?Object(a.jsxs)(E.a,{mode:e.mode,children:[Object(a.jsx)(E.a.Item,{children:Object(a.jsx)("a",{href:"/login",children:"Signin"})},"mail"),Object(a.jsx)(E.a.Item,{children:Object(a.jsx)("a",{href:"/register",children:"Signup"})},"app")]}):Object(a.jsxs)(E.a,{mode:e.mode,children:[Object(a.jsx)(L,{title:"Artist",children:u&&i&&u.map((function(e,t){return Object(a.jsx)(L,{title:e.name,children:i.map((function(t,n){if(t.entId===e._id)return Object(a.jsx)(E.a.Item,{children:Object(a.jsx)("a",{href:"/artist/".concat(t._id),children:t.name})},"artsit".concat(n))}))},t)}))},"artist"),Object(a.jsx)(E.a.Item,{children:Object(a.jsx)("a",{href:"/mypage",children:"MyPage"})},"upload"),Object(a.jsx)(E.a.Item,{children:Object(a.jsx)("a",{onClick:function(){l.a.get("/api/user/logout").then((function(t){t.data.success?e.history.push("/login"):alert("\ub85c\uadf8\uc544\uc6c3\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},children:"Logout"})},"logout")]})}));n(883);var z=function(){var e=Object(c.useState)(!1),t=Object(m.a)(e,2),n=t[0],r=t[1];return Object(a.jsxs)("nav",{className:"menu",style:{position:"fixed",zIndex:5,width:"100%"},children:[Object(a.jsx)("div",{className:"menu__logo",children:Object(a.jsx)("a",{href:"/",children:"Logo"})}),Object(a.jsxs)("div",{className:"menu__container",children:[Object(a.jsx)("div",{className:"menu_left",children:Object(a.jsx)(F,{mode:"horizontal"})}),Object(a.jsx)("div",{className:"menu_right",children:Object(a.jsx)(A,{mode:"horizontal"})}),Object(a.jsx)(_.a,{className:"menu__mobile-button",type:"primary",onClick:function(){r(!0)},children:Object(a.jsx)(D.a,{type:"align-right"})}),Object(a.jsxs)(T.a,{title:"Basic Drawer",placement:"right",className:"menu_drawer",closable:!1,onClose:function(){r(!1)},visible:n,children:[Object(a.jsx)(F,{mode:"inline"}),Object(a.jsx)(A,{mode:"inline"})]})]})]})},W=n(983),P=n(979),N=n(984),B=n(980),U=n(141),M=W.a.TextArea,X=P.a.Title;var H=Object(o.f)((function(e){var t=Object(j.c)((function(e){return e.user})),n=Object(c.useState)(""),r=Object(m.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),d=Object(m.a)(o,2),u=d[0],b=d[1],h=Object(c.useState)([]),p=Object(m.a)(h,2),x=p[0],O=p[1],f=Object(c.useState)(""),g=Object(m.a)(f,2),y=g[0],v=g[1],I=Object(c.useState)(""),w=Object(m.a)(I,2),C=w[0],k=w[1],T=Object(c.useState)(""),E=Object(m.a)(T,2),R=E[0],F=E[1];Object(c.useEffect)((function(){l.a.get("/api/artist/all").then((function(e){e.data.success?O(e.data.artists):alert("\uc544\ud2f0\uc2a4\ud2b8 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]);var L=function(n){n.preventDefault();var a={userId:t.userData._id,name:u,artistId:i,link:C,mainImage:R,content:y};l.a.post("/api/prod/addProd",a).then((function(t){t.data.success?(N.a.success("\uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub85c\ub4dc\ub97c \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."),setTimeout((function(){e.history.push("/")}),3e3)):alert("\ub370\uc774\ud130 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))};return Object(a.jsxs)("div",{style:{maxWidth:"700px",margin:"2rem auto"},children:[Object(a.jsx)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Object(a.jsx)(X,{level:2,children:" Prod Upload "})}),Object(a.jsxs)(B.a,{onSubmit:L,children:[Object(a.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(a.jsx)(U.a,{onDrop:function(e){var t=new FormData;t.append("file",e[0]),l.a.post("/api/prod/uploadImage",t,{header:{"content-type":"multipart/form-data"}}).then((function(e){e.data.success?F(e.data.url):alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},multieple:!1,maxSize:1e7,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(a.jsxs)("div",Object(S.a)(Object(S.a)({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"}},t()),{},{children:[Object(a.jsx)("input",Object(S.a)({},n())),Object(a.jsx)(D.a,{type:"plus",style:{fontSize:"3rem"}})]}))}})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"\uc0c1\ud488 \uc774\ub984"}),Object(a.jsx)(W.a,{onChange:function(e){b(e.currentTarget.value)},value:u}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"\ub0b4\uc6a9"}),Object(a.jsx)(M,{onChange:function(e){v(e.currentTarget.value)},value:y}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"\ub9c1\ud06c"}),Object(a.jsx)(M,{onChange:function(e){k(e.currentTarget.value)},value:C}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("select",{style:{width:"150px",height:"2rem",border:"1px solid rgba(0,0,0,0.3)",outline:"0",borderRadius:"5px",paddingLeft:"0.5rem"},onChange:function(e){s(e.currentTarget.value)},children:x.map((function(e,t){return Object(a.jsx)("option",{value:e._id,children:e.name},t)}))}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(_.a,{type:"primary",size:"large",onClick:L,children:"Submit"})]})]})}));var V=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),o=Object(m.a)(s,2),d=o[0],j=o[1],u=localStorage.getItem("userId");return Object(c.useEffect)((function(){var e={userId:u};l.a.post("/api/like/getMyLikeProds",e).then((function(e){e.data.success?(i(e.data.prods),console.log(e.data.prods),console.log(u)):alert("\uc88b\uc544\uc694 \ubaa9\ub85d\uc744 \uac00\uc838\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})),l.a.post("/api/prod/getMyProds",e).then((function(e){e.data.success?j(e.data.prods):alert("\ub098\uc758 \uac8c\uc2dc\ubb3c\uc744 \uac00\uc838\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]),Object(a.jsxs)("div",{style:{width:"100%",margin:"0"},children:[Object(a.jsxs)("div",{style:{width:"85%",margin:"1rem auto"},children:[Object(a.jsx)("h2",{children:" \ub0b4\uac00 \uc88b\uc544\ud558\ub294 \uad7f\uc988 "}),Object(a.jsx)("hr",{}),Object(a.jsx)(O.a,{gutter:[16,16],type:"flex",style:{alignItems:"center"},children:n&&n.map((function(e,t){return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(y,{image:"".concat(v).concat(e.prodId.mainImage),prodId:e.prodId._id,prodName:e.prodId.name})},t)}))})]}),Object(a.jsxs)("div",{style:{width:"85%",margin:"1rem auto"},children:[Object(a.jsx)("h2",{children:" \ub0b4\uac00 \uc62c\ub9b0 \uad7f\uc988 "}),Object(a.jsx)("hr",{}),Object(a.jsx)(O.a,{gutter:[16,16],type:"flex",style:{alignItems:"center"},children:d&&d.map((function(e,t){return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(y,{image:"".concat(v).concat(e.mainImage),prodId:e._id,prodName:e.name})},t)}))})]})]})},J=(W.a.TextArea,P.a.Title);var G=function(e){var t=Object(c.useState)(""),n=Object(m.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(""),o=Object(m.a)(s,2),d=o[0],j=o[1],u=function(e){e.preventDefault();var t={name:r,image:d};l.a.post("/api/ent/addEnt",t).then((function(e){e.data.success?(N.a.success("\uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub85c\ub4dc\ub97c \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."),setTimeout((function(){i(""),j("")}),3e3)):alert("\ub370\uc774\ud130 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))};return Object(a.jsxs)("div",{style:{maxWidth:"700px",margin:"2rem auto"},children:[Object(a.jsx)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Object(a.jsx)(J,{level:2,children:" Ent Upload "})}),Object(a.jsxs)(B.a,{onSubmit:u,children:[Object(a.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(a.jsx)(U.a,{onDrop:function(e){var t=new FormData;t.append("file",e[0]),l.a.post("/api/ent/uploadImage",t,{header:{"content-type":"multipart/form-data"}}).then((function(e){e.data.success?j(e.data.url):alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),console.log(e.data.err)}))},multieple:!1,maxSize:1e7,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(a.jsxs)("div",Object(S.a)(Object(S.a)({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"}},t()),{},{children:[Object(a.jsx)("input",Object(S.a)({},n())),Object(a.jsx)(D.a,{type:"plus",style:{fontSize:"3rem"}})]}))}})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"\uc5d4\ud130 \uc774\ub984"}),Object(a.jsx)(W.a,{onChange:function(e){i(e.currentTarget.value)},value:r}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(_.a,{type:"primary",size:"large",onClick:u,children:"Submit"})]})]})},$=(W.a.TextArea,P.a.Title);var q=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),s=Object(m.a)(i,2),o=s[0],d=s[1],j=Object(c.useState)([]),u=Object(m.a)(j,2),b=u[0],h=u[1],p=Object(c.useState)(""),x=Object(m.a)(p,2),O=x[0],f=x[1];Object(c.useEffect)((function(){l.a.get("/api/ent/all").then((function(e){e.data.success?h(e.data.ents):alert("\uc544\ud2f0\uc2a4\ud2b8 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]);var g=function(e){e.preventDefault();var t={name:o,entId:n,image:O};l.a.post("/api/artist/addArtist",t).then((function(e){e.data.success?(N.a.success("\uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub85c\ub4dc\ub97c \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."),setTimeout((function(){d(""),r(""),f("")}),3e3)):alert("\ub370\uc774\ud130 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))};return Object(a.jsxs)("div",{style:{maxWidth:"700px",margin:"2rem auto"},children:[Object(a.jsx)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Object(a.jsx)($,{level:2,children:" Artist Upload "})}),Object(a.jsxs)(B.a,{onSubmit:g,children:[Object(a.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(a.jsx)(U.a,{onDrop:function(e){var t=new FormData;t.append("file",e[0]),l.a.post("/api/artist/uploadImage",t,{header:{"content-type":"multipart/form-data"}}).then((function(e){e.data.success?f(e.data.url):alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},multieple:!1,maxSize:1e7,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(a.jsxs)("div",Object(S.a)(Object(S.a)({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"}},t()),{},{children:[Object(a.jsx)("input",Object(S.a)({},n())),Object(a.jsx)(D.a,{type:"plus",style:{fontSize:"3rem"}})]}))}})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"\uc544\ud2f0\uc2a4\ud2b8 \uc774\ub984"}),Object(a.jsx)(W.a,{onChange:function(e){d(e.currentTarget.value)},value:o}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"\uc5d4\ud130 \uc120\ud0dd"})," ",Object(a.jsx)("br",{}),Object(a.jsx)("select",{style:{width:"150px",height:"2rem",border:"1px solid rgba(0,0,0,0.3)",outline:"0",borderRadius:"5px",paddingLeft:"0.5rem"},onChange:function(e){r(e.currentTarget.value)},children:b.map((function(e,t){return Object(a.jsx)("option",{value:e._id,children:e.name},t)}))}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(_.a,{type:"primary",size:"large",onClick:g,children:"Submit"})]})]})},K=n(978),Q=n(175);var Y=function(e){var t={};t=e.prod?{prodId:e.prodId,userId:e.userId}:{commentId:e.commentId,userId:e.userId};var n=Object(c.useState)(0),r=Object(m.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(null),d=Object(m.a)(o,2),j=d[0],u=d[1];return Object(c.useEffect)((function(){l.a.post("/api/like/getLikes",t).then((function(e){e.data.success?(s(e.data.likes.length),e.data.likes.map((function(e){e.userId===t.userId&&u("liked")}))):alert("\uc88b\uc544\uc694 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[i]),Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:[Object(a.jsx)(Q.a,{title:"Like",children:Object(a.jsx)(D.a,{type:"like",theme:"liked"===j?"filled":"outlined",onClick:function(){null===j?l.a.post("/api/like/upLike",t).then((function(e){e.data.success?(s(i+1),u("liked")):alert("\uc88b\uc544\uc694 \ubc18\uc601\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})):l.a.post("/api/like/unLike",t).then((function(e){e.data.success?(s(i-1),u(null)):alert("\uc88b\uc544\uc694 \ucde8\uc18c \ubc18\uc601\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}})}),Object(a.jsxs)("span",{style:{paddingLeft:"8px",cursor:"auto"},children:[" ",i," "]})]},"comment-basic-like")})},Z=n(976),ee=n(977);W.a.TextArea;var te=function(e){var t=Object(j.c)((function(e){return e.user})),n=Object(c.useState)(!1),r=Object(m.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),d=Object(m.a)(o,2),u=d[0],b=d[1],h=function(n){n.preventDefault();var a={content:u,userId:t.userData._id,prodId:e.prodId,responseTo:e.comment._id};l.a.post("/api/comment/saveComment",a).then((function(t){t.data.success?(e.refreshFunction(t.data.commentInfo),b(""),s(!1)):alert("\ub313\uae00\uc744 \uc800\uc7a5\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))},p=[Object(a.jsx)(Y,{userId:localStorage.getItem("userId"),commentId:e.comment._id}),Object(a.jsx)("span",{onClick:function(){s(!i)},style:{margin:"0 0 0 10px"},children:"Reply to"},"comment-basic-reply-to")];return Object(a.jsxs)("div",{children:[Object(a.jsx)(Z.a,{actions:p,author:e.comment.userId.name,avatar:Object(a.jsx)(ee.a,{src:e.comment.userId.image,alt:!0}),content:Object(a.jsxs)("p",{children:[" ",e.comment.content," "]})}),i&&Object(a.jsxs)("form",{style:{display:"flex"},onSubmit:h,children:[Object(a.jsx)("textarea",{style:{width:"100%",borderRadius:"5px"},onChange:function(e){b(e.currentTarget.value)},value:u,placeholder:"\ucf54\uba58\ud2b8\ub97c \uc791\uc131\ud574 \uc8fc\uc138\uc694"}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{style:{width:"20%",height:"52px"},onClick:h,children:" Submit"})]})]})};var ne=function e(t){var n,i=Object(c.useState)(0),s=Object(m.a)(i,2),o=s[0],d=s[1],l=Object(c.useState)(!1),j=Object(m.a)(l,2),u=j[0],b=j[1];return Object(c.useEffect)((function(){var e=0;t.comment.map((function(n){n.responseTo===t.parentCommentId&&e++})),d(e)}),[t.comment]),Object(a.jsxs)("div",{children:[o>0&&Object(a.jsxs)("p",{style:{fontSize:"12px",margin:0,color:"rgba(0,0,0,0.2)",marginLeft:"10px"},onClick:function(){b(!u)},children:["View ",o," more comment(s)"]}),u&&(n=t.parentCommentId,t.comment.map((function(c,i){return Object(a.jsx)(r.a.Fragment,{children:c.responseTo===n&&Object(a.jsxs)("div",{style:{width:"80%",marginLeft:"40px"},children:[Object(a.jsx)(te,{refreshFunction:t.refreshFunction,comment:c,prodId:t.prodId}),Object(a.jsx)(e,{refreshFunction:t.refreshFunction,parentCommentId:c._id,prodId:t.prodId,comment:t.comment})]})})})))]})};var ae=function(e){var t=Object(j.c)((function(e){return e.user})),n=e.prodId,i=Object(c.useState)(""),s=Object(m.a)(i,2),o=s[0],d=s[1],u=function(a){a.preventDefault();var c={content:o,userId:t.userData._id,prodId:n};l.a.post("/api/comment/saveComment",c).then((function(t){t.data.success?(e.refreshFunction(t.data.commentInfo),d("")):alert("\ub313\uae00\uc744 \uc800\uc7a5\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{style:{margin:"0 10px 0 0"},children:"Replies"}),Object(a.jsx)("hr",{}),e.commentLists&&e.commentLists.map((function(t,c){return!t.responseTo&&Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(te,{refreshFunction:e.refreshFunction,comment:t,prodId:n}),Object(a.jsx)(ne,{refreshFunction:e.refreshFunction,parentCommentId:t._id,prodId:n,comment:e.commentLists})]})})),Object(a.jsxs)("form",{style:{display:"flex"},onSubmit:u,children:[Object(a.jsx)("textarea",{style:{width:"100%",borderRadius:"5px"},onChange:function(e){d(e.currentTarget.value)},value:o,placeholder:"\ucf54\uba58\ud2b8\ub97c \uc791\uc131\ud574 \uc8fc\uc138\uc694"}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{style:{width:"20%",height:"52px"},onClick:u,children:" Submit"})]})]})};var ce=Object(o.f)((function(e){Object(j.c)((function(e){return e.user}));var t=Object(c.useState)(null),n=Object(m.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)([]),o=Object(m.a)(s,2),d=o[0],u=o[1],b=e.match.params.prodId,h={prodId:b};return Object(c.useEffect)((function(){l.a.post("/api/prod/getProdInfo",h).then((function(e){e.data.success?i(e.data.prod):alert("\uac8c\uc2dc\uae00 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})),l.a.post("/api/comment/getComments",h).then((function(e){e.data.success?u(e.data.comments):alert("\ucf54\uba58\ud2b8 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294 \uac83\uc744 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center",width:"100%",height:"100%",flexDirection:"column"},children:[r&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center",width:"80%",height:"280px",alignContent:"center",alignItems:"center",textAlign:"center",flexDirection:"column"},children:[Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsxs)("a",{href:"/artist/".concat(r.artistId._id),children:[Object(a.jsx)("span",{style:{display:"flex",alignItems:"center",width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"black",marginRight:"0.5rem"},children:Object(a.jsx)("img",{style:{maxWidth:"90%",display:"block",margin:"0px auto",objectFit:"contain"},src:"".concat(v,"/").concat(r.artistId.image),alt:"artistImage"})}),Object(a.jsxs)("h3",{style:{padding:0,margin:0},children:[" ",r.artistId.name," "]})]})}),Object(a.jsx)("h1",{style:{fontWeight:800,fontSize:"4vh",margin:"10px 0px"},children:r.name}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(a.jsx)("span",{style:{width:"25px",height:"25px",borderRadius:"50%",backgroundImage:"",marginRight:"0.5rem"}}),Object(a.jsxs)("h4",{children:[" ",r.userId.name," "]})]})]}),Object(a.jsxs)("div",{style:{display:"flex",width:"90%",alignItems:"center"},children:[Object(a.jsx)("div",{style:{display:"flex",width:"50%"},children:Object(a.jsx)("img",{style:{objectFit:"contain",maxWidth:"100%"},src:"".concat(v,"/").concat(r.mainImage),alt:"prodImage"})}),Object(a.jsx)("div",{style:{width:"10%"}}),Object(a.jsxs)("div",{style:{display:"flex",width:"40%",flexDirection:"column"},children:[Object(a.jsxs)("h2",{style:{fontWeight:400,fontSize:"24px"},children:[" ",r.content," "]}),Object(a.jsx)("hr",{}),Object(a.jsx)("hr",{}),Object(a.jsx)("a",{href:r.link,target:"_blank",children:Object(a.jsx)("h3",{style:{textAlign:"right"},children:" \uc0ac\ub7ec\uac00\uae30 "})}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{children:Object(a.jsx)(K.a.Item,{actions:[Object(a.jsx)(Y,{prod:!0,prodId:r._id,userId:localStorage.getItem("userId")})]})})]})]})]}),Object(a.jsx)("div",{style:{width:"100%",padding:"3rem 4rem"},children:Object(a.jsx)(ae,{refreshFunction:function(e){u(d.concat(e))},commentLists:d,prodId:b})})]})}));var re=Object(o.f)((function(e){var t=Object(c.useState)([]),n=Object(m.a)(t,2),r=n[0],i=n[1],s={artistId:e.match.params.artistId};return Object(c.useEffect)((function(){l.a.post("/api/prod/getArtistProds",s).then((function(e){e.data.success?(console.log(e.data.prods),i(e.data.prods)):alert("\uc0c1\ud488\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328 \ud588\uc2b5\ub2c8\ub2e4.")}))}),[]),Object(a.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:r&&r.map((function(e,t){return Object(a.jsx)("div",{style:{width:"100%",height:"300px",display:"flex",justifyContent:"center",marginTop:"1rem"},children:Object(a.jsxs)("a",{href:"/prod/".concat(e._id),children:[Object(a.jsxs)("div",{style:{width:"80%",height:"300px",display:"flex",alignItems:"center"},children:[Object(a.jsx)("div",{style:{width:"270px",height:"270px",margin:0},children:Object(a.jsx)("img",{style:{maxHeight:"100%",objectFit:"contain"},src:"".concat(v,"/").concat(e.mainImage),alt:e.name})}),Object(a.jsxs)("div",{style:{display:"flex",width:"700px",height:"90%",marginLeft:"48px",flexDirection:"column",justifyContent:"center",textAlign:"right"},children:[Object(a.jsx)("h1",{children:e.name}),Object(a.jsx)("h2",{children:e.content}),Object(a.jsx)("h3",{children:e.userId.name})]})]}),Object(a.jsx)("hr",{style:{color:"grey"}})]})},t)}))})}));var ie=function(){return Object(a.jsxs)(c.Suspense,{fallback:Object(a.jsx)("div",{children:"Loading..."}),children:[Object(a.jsx)(z,{}),Object(a.jsx)("div",{style:{paddingTop:"69px",minHeight:"calc(100vh - 80px)"},children:Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{exact:!0,path:"/",component:x(I,null)}),Object(a.jsx)(o.a,{exact:!0,path:"/login",component:x(C,!1)}),Object(a.jsx)(o.a,{exact:!0,path:"/register",component:x(k,!1)}),Object(a.jsx)(o.a,{exact:!0,path:"/upload",component:x(H,!0)}),Object(a.jsx)(o.a,{exact:!0,path:"/myPage",component:x(V,!0)}),Object(a.jsx)(o.a,{exact:!0,path:"/uploadEnt",component:x(G,!0)}),Object(a.jsx)(o.a,{exact:!0,path:"/uploadArtist",component:x(q,!0)}),Object(a.jsx)(o.a,{exact:!0,path:"/prod/:prodId",component:x(ce,null)}),Object(a.jsx)(o.a,{exact:!0,path:"/artist/:artistId",component:x(re,null)})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=n(94),oe=n(126),de=Object(oe.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(S.a)(Object(S.a)({},e),{},{loginSuccess:t.payload});case h:return Object(S.a)(Object(S.a)({},e),{},{register:t.payload});case b:return Object(S.a)(Object(S.a)({},e),{},{userData:t.payload});default:return e}}}),le=n(422),je=n.n(le),ue=n(423),be=Object(oe.a)(je.a,ue.a)(oe.d);s.a.render(Object(a.jsx)(j.a,{store:be(de,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),children:Object(a.jsx)(se.a,{children:Object(a.jsx)(ie,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[973,1,2]]]);
//# sourceMappingURL=main.1042faa2.chunk.js.map